<?xml version="1.0" encoding="UTF-8" ?>

<!--<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">-->
<beans xmlns:o="http://openejb.org/schemas/core">
  <bean id="proxyFactory" class="org.openejb.util.proxy.Jdk13ProxyFactory" init-method="start"/>

  <o:containerSystem id="containerSystem"/>

  <bean id="jndiContext" factory-bean="containerSystem" factory-method="getJNDIContext"/>

  <o:transactionManagerWrapper id="transactionManager">
    <property name="transactionManager">
      <o:pseudoTransactionService/>
    </property>
  </o:transactionManagerWrapper>

  <o:pseudoSecurityService id="securityService"/>

  <o:sharedLocalConnectionManager id="defaultConnectionManager"
      transactionManager="#transactionManager"/>

  <o:jdbcConnectionFactory id="defaultJdbcDatabase"
      defaultUserName="Admin"
      defaultPassword="pass"
      url="jdbc:idb:conf/instantdb.properties"
      driver="org.enhydra.instantdb.jdbc.idbDriver"/>

  <o:jndiBinding context="#jndiContext">
    <property name="bindings">
      <map>
        <entry key="java:openejb/connector/Default JDBC Database">
          <o:connectorRef manager="#defaultConnectionManager" factory="#defaultJdbcDatabase"/>
        </entry>
      </map>
    </property>
  </o:jndiBinding>
</beans>

<?xml version="1.0"?>
<!-- $Id$ -->
<faqs>
    <super id="faq">FAQ</super>
    <super id="faq_oracle">Oracle FAQ</super>
    <name>Oracle FAQ</name>
    <faq>
        <question>How do I setup OpenEJB to use Oracle?</question>
        <answer id="configigure">

<p>
I used the Oracle Thin JDBC driver for my configuration.  The driver is found in classes12.jar
for JDK 1.2 and 1.3 and ojdbc14.jar for JDK 1.4.
The SQL statement used to create the employee table was:
</p>
<p>
<code>
create table employee (<br/>
   id number primary key,<br/>
   first_name varchar2(15),<br/>
   last_name varchar2(15),<br/>
   email varchar2(30));<br/>
create sequence employee_seq;
</code>
</p>
<p>
<file name="openejb.conf"><![CDATA[
<?xml version="1.0"?>

<openejb>
   <Container id="Oracle CMP Container" ctype="CMP_ENTITY">
      Global_TX_Database c:/java/hello_world_cmp/conf/hello.cmp_global_database.xml
      Local_TX_Database  c:/java/hello_world_cmp/conf/hello.cmp_local_database.xml
   </Container>
   <Deployments jar="c:/java/hello_world_cmp/employee.jar"/>
   <Connector id="Oracle JDBC Database">
      JdbcDriver  oracle.jdbc.OracleDriver
      JdbcUrl     jdbc:oracle:thin:@server:1521:database
      UserName    username
      Password    password
   </Connector>
   <SecurityService id="Default Security Service"/>
   <TransactionService id="Default Transaction Manager"/>
</openejb>
]]>
</file>
</p>
<p>
<file name="hello.cmp_global_database.xml"><![CDATA[
<?xml version="1.0"?>

<database name="Global_TX_Database" engine="oracle">
   <jndi name="java:comp/env/jdbc/oracle"/>
   <mapping href="c:/java/hello_world_cmp/conf/hello.cmp_or_mapping.xml"/>
</database>
]]>
</file>
</p>
<p>
<file name="c:/java/hello_world_cmp/conf/hello.cmp_local_database.xml"><![CDATA[
<?xml version="1.0"?>

<database name="Local_TX_Database" engine="oracle">
   <driver class-name="oracle.jdbc.OracleDriver"
           url="jdbc:oracle:thin:@server:1521:database">
      <param name="user" value="user"/>
      <param name="password" value="password"/>
   </driver>

   <mapping href="c:/java/hello_world_cmp/conf/hello.cmp_or_mapping.xml"/>
</database>
]]>
</file>
</p>
<p>
<file name="hello.cmp_or_mapping.xml"><![CDATA[
<?xml version="1.0"?>

<mapping>
   <class name="org.acme.employee.EmployeeBean" identity="id" key-generator="SEQUENCE">
      <map-to table="employee"/>
      <field name="id" type="integer" direct="true">
         <sql name="id" type="integer"/>
      </field>
      <field name="firstname" type="string" direct="true">
         <sql name="first_name" type="varchar" dirty="check"/>
      </field>
      <field name="lastname" type="string" direct="true">
         <sql name="last_name" type="varchar" dirty="check"/>
      </field>
      <field name="email" type="string" direct="true">
         <sql name="email" type="varchar" dirty="check"/>
      </field>
   </class>
</mapping>
]]>
</file>
</p>
</answer>
    </faq>
    <faq>
        <question>Where can i get the Oracle JDBC driver?</question>
        <answer id="track">
            <p>
Oracle JDBC drivers are available at <a
href="http://otn.oracle.com/software/tech/java/sqlj_jdbc/content.html" target="_blank">
http://otn.oracle.com/software/tech/java/sqlj_jdbc/content.html</a>
        </p>
        </answer>
    </faq>

</faqs>

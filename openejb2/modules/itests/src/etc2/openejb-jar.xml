<?xml version="1.0"?>

<openejb-jar
    xmlns="http://www.openejb.org/xml/ns/openejb-jar"
    configId="org/openejb/itests"
    parentId="org/openjca/hsql">

    <dependency>
        <uri>junit/jars/junit-3.8.jar</uri>
    </dependency>

    <enterprise-beans>
        <!--
        ########################################################
        Stateless
        ########################################################
        -->
        <session>
            <ejb-name>BasicStatelessBean</ejb-name>
            <jndi-name>client/tests/stateless/BasicStatelessHome</jndi-name>
            <resource-ref>
                <ref-name>stateless/references/Resource_manager_access</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
        </session>
        <session>
            <ejb-name>Basic BMT StatelessBean</ejb-name>
            <jndi-name>client/tests/stateless/BeanManagedBasicStatelessHome</jndi-name>
            <resource-ref>
                <ref-name>stateless/references/Resource_manager_access</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
        </session>
        <session>
            <ejb-name>DatabaseBean</ejb-name>
            <jndi-name>client/tools/DatabaseHome</jndi-name>
            <resource-ref>
                <ref-name>database</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
        </session>
        <session>
            <ejb-name>BMT StatelessBean</ejb-name>
            <jndi-name>client/tests/stateless/BeanManagedTransactionTests/EJBHome</jndi-name>
            <resource-ref>
                <ref-name>database</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
        </session>
        <session>
            <ejb-name>EncStatelessBean</ejb-name>
            <jndi-name>client/tests/stateless/EncBean</jndi-name>
            <resource-ref>
                <ref-name>datasource</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
        </session>
        <session>
            <ejb-name>Stateless RMI-IIOP Bean</ejb-name>
            <jndi-name>client/tests/stateless/RMI-over-IIOP/EJBHome</jndi-name>
        </session>



        <!--
        ########################################################
        Stateless
        ########################################################
        -->
        <session>
            <ejb-name>BasicStatefulBean</ejb-name>
            <jndi-name>client/tests/stateful/BasicStatefulHome</jndi-name>
        </session>
        <session>
            <ejb-name>Basic BMT StatefulBean</ejb-name>
            <jndi-name>client/tests/stateful/BeanManagedBasicStatefulHome</jndi-name>
        </session>
        <session>
            <ejb-name>BMT StatefulBean</ejb-name>
            <jndi-name>client/tests/stateful/BeanManagedTransactionTests/EJBHome</jndi-name>
            <resource-ref>
                <ref-name>datasource</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
        </session>
        <session>
            <ejb-name>EncStatefulBean</ejb-name>
            <jndi-name>client/tests/stateful/EncBean</jndi-name>
            <resource-ref>
                <ref-name>datasource</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
        </session>
        <session>
            <ejb-name>Stateful RMI-IIOP Bean</ejb-name>
            <jndi-name>client/tests/stateful/RMI-over-IIOP/EJBHome</jndi-name>
        </session>

        <!--
        ########################################################
        BMP
        ########################################################
        -->
        <entity>
            <ejb-name>BasicBmpBean</ejb-name>
            <jndi-name>client/tests/entity/bmp/BasicBmpHome</jndi-name>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>AOBasicBmpBean</ejb-name>
            <jndi-name>client/tests/entity/bmp/allowed_operations/EntityHome</jndi-name>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
            <resource-ref>
                <ref-name>stateless/references/Resource_manager_access</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>EncBmpBean</ejb-name>
            <jndi-name>client/tests/entity/bmp/EncBean</jndi-name>
            <resource-ref>
                <ref-name>datasource</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <target-name>DefaultDatasource</target-name>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>Bmp RMI-IIOP Bean</ejb-name>
            <jndi-name>client/tests/entity/bmp/RMI-over-IIOP/EJBHome</jndi-name>
        </entity>

    </enterprise-beans>
    <!--	<ejb-deployment ejb-name="BasicCmpBean" deployment-id="client/tests/entity/cmp/BasicCmpHome" container-id="Default CMP Container">-->
    <!--		<resource-link res-ref-name="jdbc/basic/entityDatabase" res-id="Default JDBC Database"/>-->
    <!--        <query>-->
    <!--            <query-method>-->
    <!--                <method-name>findByLastName</method-name>-->
    <!--                <method-params>-->
    <!--                    <method-param>java.lang.String</method-param>-->
    <!--                </method-params>-->
    <!--            </query-method>-->
    <!--            <object-ql>-->
    <!--                SELECT o FROM org.openejb.test.entity.cmp.BasicCmpBean o WHERE o.lastName = $1 -->
    <!--            </object-ql>-->
    <!--        </query> -->
    <!--    </ejb-deployment>-->
    <!--	<ejb-deployment ejb-name="AOBasicCmpBean" deployment-id="client/tests/entity/cmp/allowed_operations/EntityHome" container-id="Default CMP Container">-->
    <!--		<resource-link res-ref-name="jdbc/basic/entityDatabase" res-id="Default JDBC Database"/>-->
    <!--	</ejb-deployment>-->
    <!--	<ejb-deployment ejb-name="EncCmpBean" deployment-id="client/tests/entity/cmp/EncBean" container-id="Default CMP Container">-->
    <!--		<resource-link res-ref-name="datasource" res-id="Default JDBC Database"/>-->
    <!--		<resource-link res-ref-name="jdbc/basic/entityDatabase" res-id="Default JDBC Database"/>-->
    <!--    </ejb-deployment>-->
    <!--	<ejb-deployment ejb-name="Cmp RMI-IIOP Bean" deployment-id="client/tests/entity/cmp/RMI-over-IIOP/EJBHome" container-id="Default CMP Container"/>-->

</openejb-jar>